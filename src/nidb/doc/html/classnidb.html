<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NiDB: nidb Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="squirrel.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NiDB
   &#160;<span id="projectnumber">2024.7.1140</span>
   </div>
   <div id="projectbrief">Neuroinformatics Database</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classnidb-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nidb Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The nidb class.  
 <a href="classnidb.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nidb_8h_source.html">nidb.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b8856fca8d48ac0d4b7c179ca07c6e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a1b8856fca8d48ac0d4b7c179ca07c6e7">nidb</a> ()</td></tr>
<tr class="memdesc:a1b8856fca8d48ac0d4b7c179ca07c6e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="classnidb.html#a1b8856fca8d48ac0d4b7c179ca07c6e7">More...</a><br /></td></tr>
<tr class="separator:a1b8856fca8d48ac0d4b7c179ca07c6e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac105916017c7e027c20400c624406300"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#ac105916017c7e027c20400c624406300">nidb</a> (QString m, bool c=false)</td></tr>
<tr class="memdesc:ac105916017c7e027c20400c624406300"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classnidb.html#a1b8856fca8d48ac0d4b7c179ca07c6e7" title="Default constructor.">nidb::nidb</a>  <a href="classnidb.html#ac105916017c7e027c20400c624406300">More...</a><br /></td></tr>
<tr class="separator:ac105916017c7e027c20400c624406300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4834b96815a4efbb89bfe1eb3cecc900"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a4834b96815a4efbb89bfe1eb3cecc900">LoadConfig</a> ()</td></tr>
<tr class="memdesc:a4834b96815a4efbb89bfe1eb3cecc900"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the nidb config file.  <a href="classnidb.html#a4834b96815a4efbb89bfe1eb3cecc900">More...</a><br /></td></tr>
<tr class="separator:a4834b96815a4efbb89bfe1eb3cecc900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17b3c4ae5af3e32a008551a36f3f4d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#ab17b3c4ae5af3e32a008551a36f3f4d5">DatabaseConnect</a> (bool cluster=false)</td></tr>
<tr class="memdesc:ab17b3c4ae5af3e32a008551a36f3f4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a database.  <a href="classnidb.html#ab17b3c4ae5af3e32a008551a36f3f4d5">More...</a><br /></td></tr>
<tr class="separator:ab17b3c4ae5af3e32a008551a36f3f4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d653218a3f4b3f8f85d83685a127c55"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a6d653218a3f4b3f8f85d83685a127c55">GetBuildString</a> ()</td></tr>
<tr class="memdesc:a6d653218a3f4b3f8f85d83685a127c55"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classnidb.html#a6d653218a3f4b3f8f85d83685a127c55" title="nidb::GetBuildString">nidb::GetBuildString</a>  <a href="classnidb.html#a6d653218a3f4b3f8f85d83685a127c55">More...</a><br /></td></tr>
<tr class="separator:a6d653218a3f4b3f8f85d83685a127c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdad61099e793553f8ff1a96dd66a189"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#afdad61099e793553f8ff1a96dd66a189">GetVersion</a> ()</td></tr>
<tr class="memdesc:afdad61099e793553f8ff1a96dd66a189"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classnidb.html#afdad61099e793553f8ff1a96dd66a189" title="nidb::GetVersion">nidb::GetVersion</a>  <a href="classnidb.html#afdad61099e793553f8ff1a96dd66a189">More...</a><br /></td></tr>
<tr class="separator:afdad61099e793553f8ff1a96dd66a189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a9b3053e5b5d5a9db3c5fa6e7fd901"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a17a9b3053e5b5d5a9db3c5fa6e7fd901">ModuleGetNumLockFiles</a> ()</td></tr>
<tr class="memdesc:a17a9b3053e5b5d5a9db3c5fa6e7fd901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the number of lock files for this module.  <a href="classnidb.html#a17a9b3053e5b5d5a9db3c5fa6e7fd901">More...</a><br /></td></tr>
<tr class="separator:a17a9b3053e5b5d5a9db3c5fa6e7fd901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937d0c8f33aae6ff6c7cb47de83e9915"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a937d0c8f33aae6ff6c7cb47de83e9915">ModuleCreateLockFile</a> ()</td></tr>
<tr class="memdesc:a937d0c8f33aae6ff6c7cb47de83e9915"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a lock file for this module. Each lock file has a file extension with the current process's PID.  <a href="classnidb.html#a937d0c8f33aae6ff6c7cb47de83e9915">More...</a><br /></td></tr>
<tr class="separator:a937d0c8f33aae6ff6c7cb47de83e9915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9782fe5edd8e30b8d7a3dd8b2cd5dd5d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a9782fe5edd8e30b8d7a3dd8b2cd5dd5d">ModuleCreateLogFile</a> ()</td></tr>
<tr class="memdesc:a9782fe5edd8e30b8d7a3dd8b2cd5dd5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a log file for this module.  <a href="classnidb.html#a9782fe5edd8e30b8d7a3dd8b2cd5dd5d">More...</a><br /></td></tr>
<tr class="separator:a9782fe5edd8e30b8d7a3dd8b2cd5dd5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e505984da877a24966ce8002546ba3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a05e505984da877a24966ce8002546ba3">ModuleClearLockFiles</a> ()</td></tr>
<tr class="memdesc:a05e505984da877a24966ce8002546ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all lock files for this module.  <a href="classnidb.html#a05e505984da877a24966ce8002546ba3">More...</a><br /></td></tr>
<tr class="separator:a05e505984da877a24966ce8002546ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68c78cd6cd40e6b51e0fb433c268056"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#ac68c78cd6cd40e6b51e0fb433c268056">ModuleDeleteLockFile</a> ()</td></tr>
<tr class="memdesc:ac68c78cd6cd40e6b51e0fb433c268056"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the lock file associated with this module.  <a href="classnidb.html#ac68c78cd6cd40e6b51e0fb433c268056">More...</a><br /></td></tr>
<tr class="separator:ac68c78cd6cd40e6b51e0fb433c268056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab300daa39c786de9148ab50a94acbee6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#ab300daa39c786de9148ab50a94acbee6">ModuleRemoveLogFile</a> (bool keepLog)</td></tr>
<tr class="memdesc:ab300daa39c786de9148ab50a94acbee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the log file for this module.  <a href="classnidb.html#ab300daa39c786de9148ab50a94acbee6">More...</a><br /></td></tr>
<tr class="separator:ab300daa39c786de9148ab50a94acbee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ac56e274f72c9bb8c9147d42786f23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a55ac56e274f72c9bb8c9147d42786f23">ModuleCheckIfActive</a> ()</td></tr>
<tr class="memdesc:a55ac56e274f72c9bb8c9147d42786f23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if this module is enabled and should be running.  <a href="classnidb.html#a55ac56e274f72c9bb8c9147d42786f23">More...</a><br /></td></tr>
<tr class="separator:a55ac56e274f72c9bb8c9147d42786f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df61018ab9409b7e8b07e6218f0ae45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a4df61018ab9409b7e8b07e6218f0ae45">ModuleDBCheckIn</a> ()</td></tr>
<tr class="memdesc:a4df61018ab9409b7e8b07e6218f0ae45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check this module into the database to let the system know it is running. This should be done when starting the module.  <a href="classnidb.html#a4df61018ab9409b7e8b07e6218f0ae45">More...</a><br /></td></tr>
<tr class="separator:a4df61018ab9409b7e8b07e6218f0ae45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194072e4c4396dd7dd0a5e52ca16de1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a194072e4c4396dd7dd0a5e52ca16de1a">ModuleDBCheckOut</a> ()</td></tr>
<tr class="memdesc:a194072e4c4396dd7dd0a5e52ca16de1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check this module out of the database. This should be done when exiting the module.  <a href="classnidb.html#a194072e4c4396dd7dd0a5e52ca16de1a">More...</a><br /></td></tr>
<tr class="separator:a194072e4c4396dd7dd0a5e52ca16de1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3392b7e0e9d1b2f808ed779ae2312a8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a3392b7e0e9d1b2f808ed779ae2312a8a">ModuleRunningCheckIn</a> ()</td></tr>
<tr class="memdesc:a3392b7e0e9d1b2f808ed779ae2312a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a "deadman's switch". If the module doesn't check in after a certain period of time, the module process is assumed to have died and is reset so it can start again.  <a href="classnidb.html#a3392b7e0e9d1b2f808ed779ae2312a8a">More...</a><br /></td></tr>
<tr class="separator:a3392b7e0e9d1b2f808ed779ae2312a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e5ac64f6f220af93c7b2c9a4e49789"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a90e5ac64f6f220af93c7b2c9a4e49789">ModuleGetNumThreads</a> ()</td></tr>
<tr class="memdesc:a90e5ac64f6f220af93c7b2c9a4e49789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of threads for the currently selected module.  <a href="classnidb.html#a90e5ac64f6f220af93c7b2c9a4e49789">More...</a><br /></td></tr>
<tr class="separator:a90e5ac64f6f220af93c7b2c9a4e49789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4989a309c4f766d6697f3587948ecfb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#aa4989a309c4f766d6697f3587948ecfb">IsRunningFromCluster</a> ()</td></tr>
<tr class="memdesc:aa4989a309c4f766d6697f3587948ecfb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classnidb.html#aa4989a309c4f766d6697f3587948ecfb" title="nidb::IsRunningFromCluster">nidb::IsRunningFromCluster</a>  <a href="classnidb.html#aa4989a309c4f766d6697f3587948ecfb">More...</a><br /></td></tr>
<tr class="separator:aa4989a309c4f766d6697f3587948ecfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afceae8e4b32d5dbe30e9a2146611cbfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#afceae8e4b32d5dbe30e9a2146611cbfd">InsertAnalysisEvent</a> (qint64 analysisid, int pipelineid, int pipelineversion, int studyid, QString event, QString message)</td></tr>
<tr class="memdesc:afceae8e4b32d5dbe30e9a2146611cbfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an analysis event in the analysis table.  <a href="classnidb.html#afceae8e4b32d5dbe30e9a2146611cbfd">More...</a><br /></td></tr>
<tr class="separator:afceae8e4b32d5dbe30e9a2146611cbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0d8dcdc8ad2f1ae2795773c830bfe6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a8c0d8dcdc8ad2f1ae2795773c830bfe6">InsertSubjectChangeLog</a> (QString username, QString uid, QString newuid, QString changetype, QString log)</td></tr>
<tr class="separator:a8c0d8dcdc8ad2f1ae2795773c830bfe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db1198c88c339d099fa2611f119ee5d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a9db1198c88c339d099fa2611f119ee5d">SetExportSeriesStatus</a> (qint64 exportseriesid, qint64 exportid, qint64 seriesid, QString modality, QString status, QString msg=&quot;&quot;)</td></tr>
<tr class="separator:a9db1198c88c339d099fa2611f119ee5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4034483c4f91a55b0e93be56677ce4e3"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a4034483c4f91a55b0e93be56677ce4e3">CreateUID</a> (QString prefix, int numletters=3)</td></tr>
<tr class="memdesc:a4034483c4f91a55b0e93be56677ce4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a unique ID (UID) in the form S1234ABC. This is also used for project UIDs. This function tries to avoid inappropriate words spelled out using the random letters.  <a href="classnidb.html#a4034483c4f91a55b0e93be56677ce4e3">More...</a><br /></td></tr>
<tr class="separator:a4034483c4f91a55b0e93be56677ce4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110b4444bfa2170f30c2c28874a090b8"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a110b4444bfa2170f30c2c28874a090b8">GetPrimaryAlternateUID</a> (qint64 subjectid, qint64 enrollmentid)</td></tr>
<tr class="separator:a110b4444bfa2170f30c2c28874a090b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9f386f87c415eeba5f0827a2970071"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a0c9f386f87c415eeba5f0827a2970071">GetGroupListing</a> (int groupid)</td></tr>
<tr class="separator:a0c9f386f87c415eeba5f0827a2970071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323f823d383a668365610073d99e5ec4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a323f823d383a668365610073d99e5ec4">isValidNiDBModality</a> (QString m)</td></tr>
<tr class="memdesc:a323f823d383a668365610073d99e5ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a specified modality is valid in NiDB, meannig this modality has an existing &lt;modality&gt;_series table.  <a href="classnidb.html#a323f823d383a668365610073d99e5ec4">More...</a><br /></td></tr>
<tr class="separator:a323f823d383a668365610073d99e5ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f1a11418e2fb1b228d8de829dba409"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#af2f1a11418e2fb1b228d8de829dba409">SQLQuery</a> (QSqlQuery &amp;q, QString function, QString file, int line, bool d=false, bool batch=false)</td></tr>
<tr class="memdesc:af2f1a11418e2fb1b228d8de829dba409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a SQL query and return the result.  <a href="classnidb.html#af2f1a11418e2fb1b228d8de829dba409">More...</a><br /></td></tr>
<tr class="separator:af2f1a11418e2fb1b228d8de829dba409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b4da25cb1682e804944c512367488f"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#ac7b4da25cb1682e804944c512367488f">Log</a> (QString msg, QString func=&quot;&quot;, int wrap=0, bool timeStamp=true)</td></tr>
<tr class="memdesc:ac7b4da25cb1682e804944c512367488f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record a log message.  <a href="classnidb.html#ac7b4da25cb1682e804944c512367488f">More...</a><br /></td></tr>
<tr class="separator:ac7b4da25cb1682e804944c512367488f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b75857ae9e98296000ce914eb185c1"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a21b75857ae9e98296000ce914eb185c1">Debug</a> (QString msg, QString func=&quot;&quot;, int wrap=0, bool timeStamp=true)</td></tr>
<tr class="memdesc:a21b75857ae9e98296000ce914eb185c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to the <a class="el" href="classnidb.html#ac7b4da25cb1682e804944c512367488f" title="Record a log message.">Log()</a> function, except this function only logs a message if the NiDB is in debug mode.  <a href="classnidb.html#a21b75857ae9e98296000ce914eb185c1">More...</a><br /></td></tr>
<tr class="separator:a21b75857ae9e98296000ce914eb185c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2e5d8d1f5a160ec0fb8b95088a7c92"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a6e2e5d8d1f5a160ec0fb8b95088a7c92">SendEmail</a> (QString to, QString <a class="el" href="classsubject.html">subject</a>, QString body)</td></tr>
<tr class="separator:a6e2e5d8d1f5a160ec0fb8b95088a7c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055cc365532deaab468210f4b205005e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a055cc365532deaab468210f4b205005e">GetSQLComparison</a> (QString c, QString &amp;comp, int &amp;num)</td></tr>
<tr class="memdesc:a055cc365532deaab468210f4b205005e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate and parse a comparison string like &lt;=5 into a pair of tokens (comparison, number) for later use in a SQL statement. The string passed into this function was likely input by a user, and must be validated before including in a SQL statement.  <a href="classnidb.html#a055cc365532deaab468210f4b205005e">More...</a><br /></td></tr>
<tr class="separator:a055cc365532deaab468210f4b205005e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd0be5048523748d039897abaef9364"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#a5cd0be5048523748d039897abaef9364">SubmitClusterJob</a> (QString jobFilePath, QString clusterType, QString submitHost, QString submitUser, QString qsub, QString clusterUser, QString clusterQueue, QString &amp;msg, int &amp;jobid, QString &amp;result)</td></tr>
<tr class="memdesc:a5cd0be5048523748d039897abaef9364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a pipeline analysis job to a cluster.  <a href="classnidb.html#a5cd0be5048523748d039897abaef9364">More...</a><br /></td></tr>
<tr class="separator:a5cd0be5048523748d039897abaef9364"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af6faa100be76bf8cca34b9a414d59a8b"><td class="memItemLeft" align="right" valign="top">QHash&lt; QString, QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#af6faa100be76bf8cca34b9a414d59a8b">cfg</a></td></tr>
<tr class="separator:af6faa100be76bf8cca34b9a414d59a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4083edd285cfc23ec8b367924efacbe"><td class="memItemLeft" align="right" valign="top">QSqlDatabase&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#ae4083edd285cfc23ec8b367924efacbe">db</a></td></tr>
<tr class="separator:ae4083edd285cfc23ec8b367924efacbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4dafebddca598f7b39964506c46226"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidb.html#aae4dafebddca598f7b39964506c46226">debug</a></td></tr>
<tr class="separator:aae4dafebddca598f7b39964506c46226"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The nidb class. </p>
<p>The nidb class is the root class for creating, running, and managing nidb modules </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1b8856fca8d48ac0d4b7c179ca07c6e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b8856fca8d48ac0d4b7c179ca07c6e7">&#9670;&nbsp;</a></span>nidb() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nidb::nidb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

</div>
</div>
<a id="ac105916017c7e027c20400c624406300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac105916017c7e027c20400c624406300">&#9670;&nbsp;</a></span>nidb() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nidb::nidb </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>c</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classnidb.html#a1b8856fca8d48ac0d4b7c179ca07c6e7" title="Default constructor.">nidb::nidb</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Module name </td></tr>
    <tr><td class="paramname">c</td><td>true if executable is being run from the cluster </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4034483c4f91a55b0e93be56677ce4e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4034483c4f91a55b0e93be56677ce4e3">&#9670;&nbsp;</a></span>CreateUID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::CreateUID </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numletters</em> = <code>3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a unique ID (UID) in the form S1234ABC. This is also used for project UIDs. This function tries to avoid inappropriate words spelled out using the random letters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>the letter prefix. Normally 'S' </td></tr>
    <tr><td class="paramname">numletters</td><td>the number of letters in the UID, normally 3 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A valid UID </dd></dl>

</div>
</div>
<a id="ab17b3c4ae5af3e32a008551a36f3f4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab17b3c4ae5af3e32a008551a36f3f4d5">&#9670;&nbsp;</a></span>DatabaseConnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::DatabaseConnect </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cluster</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cluster</td><td>True if the executable is running on the cluster </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise </dd></dl>

</div>
</div>
<a id="a21b75857ae9e98296000ce914eb185c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b75857ae9e98296000ce914eb185c1">&#9670;&nbsp;</a></span>Debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::Debug </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>func</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>timeStamp</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to the <a class="el" href="classnidb.html#ac7b4da25cb1682e804944c512367488f" title="Record a log message.">Log()</a> function, except this function only logs a message if the NiDB is in debug mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td></td></tr>
    <tr><td class="paramname">func</td><td></td></tr>
    <tr><td class="paramname">wrap</td><td></td></tr>
    <tr><td class="paramname">timeStamp</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a6d653218a3f4b3f8f85d83685a127c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d653218a3f4b3f8f85d83685a127c55">&#9670;&nbsp;</a></span>GetBuildString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::GetBuildString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classnidb.html#a6d653218a3f4b3f8f85d83685a127c55" title="nidb::GetBuildString">nidb::GetBuildString</a> </p>
<dl class="section return"><dt>Returns</dt><dd>The build string </dd></dl>

</div>
</div>
<a id="a0c9f386f87c415eeba5f0827a2970071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c9f386f87c415eeba5f0827a2970071">&#9670;&nbsp;</a></span>GetGroupListing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::GetGroupListing </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>groupid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a110b4444bfa2170f30c2c28874a090b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a110b4444bfa2170f30c2c28874a090b8">&#9670;&nbsp;</a></span>GetPrimaryAlternateUID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::GetPrimaryAlternateUID </td>
          <td>(</td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>subjectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>enrollmentid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a055cc365532deaab468210f4b205005e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055cc365532deaab468210f4b205005e">&#9670;&nbsp;</a></span>GetSQLComparison()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::GetSQLComparison </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate and parse a comparison string like &lt;=5 into a pair of tokens (comparison, number) for later use in a SQL statement. The string passed into this function was likely input by a user, and must be validated before including in a SQL statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The comparison string </td></tr>
    <tr><td class="paramname">comp</td><td>The comparison (&lt;=, &gt;=, &lt;, &gt;, ~, =) </td></tr>
    <tr><td class="paramname">num</td><td>The number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successfully parsed, false otherwise </dd></dl>

</div>
</div>
<a id="afdad61099e793553f8ff1a96dd66a189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdad61099e793553f8ff1a96dd66a189">&#9670;&nbsp;</a></span>GetVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::GetVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classnidb.html#afdad61099e793553f8ff1a96dd66a189" title="nidb::GetVersion">nidb::GetVersion</a> </p>
<dl class="section return"><dt>Returns</dt><dd>The NiDB version </dd></dl>

</div>
</div>
<a id="afceae8e4b32d5dbe30e9a2146611cbfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afceae8e4b32d5dbe30e9a2146611cbfd">&#9670;&nbsp;</a></span>InsertAnalysisEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nidb::InsertAnalysisEvent </td>
          <td>(</td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>analysisid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pipelineid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pipelineversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>studyid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert an analysis event in the analysis table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">analysisid</td><td>AnalysisRowID </td></tr>
    <tr><td class="paramname">pipelineid</td><td>PipelineRowID </td></tr>
    <tr><td class="paramname">pipelineversion</td><td>pipeline version </td></tr>
    <tr><td class="paramname">studyid</td><td>StudyRowID </td></tr>
    <tr><td class="paramname">event</td><td>event code </td></tr>
    <tr><td class="paramname">message</td><td>Event message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c0d8dcdc8ad2f1ae2795773c830bfe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c0d8dcdc8ad2f1ae2795773c830bfe6">&#9670;&nbsp;</a></span>InsertSubjectChangeLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nidb::InsertSubjectChangeLog </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>newuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>changetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>log</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa4989a309c4f766d6697f3587948ecfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4989a309c4f766d6697f3587948ecfb">&#9670;&nbsp;</a></span>IsRunningFromCluster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::IsRunningFromCluster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classnidb.html#aa4989a309c4f766d6697f3587948ecfb" title="nidb::IsRunningFromCluster">nidb::IsRunningFromCluster</a> </p>
<dl class="section return"><dt>Returns</dt><dd>true if this instance if running from the cluster, false otherwise </dd></dl>

</div>
</div>
<a id="a323f823d383a668365610073d99e5ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323f823d383a668365610073d99e5ec4">&#9670;&nbsp;</a></span>isValidNiDBModality()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::isValidNiDBModality </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a specified modality is valid in NiDB, meannig this modality has an existing &lt;modality&gt;_series table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Modality to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if valid, false otherwise </dd></dl>

</div>
</div>
<a id="a4834b96815a4efbb89bfe1eb3cecc900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4834b96815a4efbb89bfe1eb3cecc900">&#9670;&nbsp;</a></span>LoadConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::LoadConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the nidb config file. </p>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise </dd></dl>

</div>
</div>
<a id="ac7b4da25cb1682e804944c512367488f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7b4da25cb1682e804944c512367488f">&#9670;&nbsp;</a></span>Log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::Log </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>func</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>timeStamp</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record a log message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message </td></tr>
    <tr><td class="paramname">func</td><td>The function which called this <a class="el" href="classnidb.html#ac7b4da25cb1682e804944c512367488f" title="Record a log message.">Log()</a> function (pass the <b>FUNCTION</b> macro) </td></tr>
    <tr><td class="paramname">wrap</td><td>0 for no text wrapping. An integer greater than 0 to wrap text at a specified column </td></tr>
    <tr><td class="paramname">timeStamp</td><td>true to include a timestampe in the Log, false otherwise </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a55ac56e274f72c9bb8c9147d42786f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55ac56e274f72c9bb8c9147d42786f23">&#9670;&nbsp;</a></span>ModuleCheckIfActive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::ModuleCheckIfActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if this module is enabled and should be running. </p>
<dl class="section return"><dt>Returns</dt><dd>true if active, false otherwise </dd></dl>

</div>
</div>
<a id="a05e505984da877a24966ce8002546ba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e505984da877a24966ce8002546ba3">&#9670;&nbsp;</a></span>ModuleClearLockFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::ModuleClearLockFiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all lock files for this module. </p>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise </dd></dl>

</div>
</div>
<a id="a937d0c8f33aae6ff6c7cb47de83e9915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937d0c8f33aae6ff6c7cb47de83e9915">&#9670;&nbsp;</a></span>ModuleCreateLockFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::ModuleCreateLockFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a lock file for this module. Each lock file has a file extension with the current process's PID. </p>
<dl class="section return"><dt>Returns</dt><dd>True if successful, false otherwise </dd></dl>

</div>
</div>
<a id="a9782fe5edd8e30b8d7a3dd8b2cd5dd5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9782fe5edd8e30b8d7a3dd8b2cd5dd5d">&#9670;&nbsp;</a></span>ModuleCreateLogFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::ModuleCreateLogFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a log file for this module. </p>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise </dd></dl>

</div>
</div>
<a id="a4df61018ab9409b7e8b07e6218f0ae45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df61018ab9409b7e8b07e6218f0ae45">&#9670;&nbsp;</a></span>ModuleDBCheckIn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nidb::ModuleDBCheckIn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check this module into the database to let the system know it is running. This should be done when starting the module. </p>

</div>
</div>
<a id="a194072e4c4396dd7dd0a5e52ca16de1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194072e4c4396dd7dd0a5e52ca16de1a">&#9670;&nbsp;</a></span>ModuleDBCheckOut()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nidb::ModuleDBCheckOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check this module out of the database. This should be done when exiting the module. </p>

</div>
</div>
<a id="ac68c78cd6cd40e6b51e0fb433c268056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68c78cd6cd40e6b51e0fb433c268056">&#9670;&nbsp;</a></span>ModuleDeleteLockFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nidb::ModuleDeleteLockFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the lock file associated with this module. </p>

</div>
</div>
<a id="a17a9b3053e5b5d5a9db3c5fa6e7fd901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a9b3053e5b5d5a9db3c5fa6e7fd901">&#9670;&nbsp;</a></span>ModuleGetNumLockFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 nidb::ModuleGetNumLockFiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the number of lock files for this module. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of existing lock files for this module </dd></dl>

</div>
</div>
<a id="a90e5ac64f6f220af93c7b2c9a4e49789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e5ac64f6f220af93c7b2c9a4e49789">&#9670;&nbsp;</a></span>ModuleGetNumThreads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nidb::ModuleGetNumThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of threads for the currently selected module. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of module threads </dd></dl>

</div>
</div>
<a id="ab300daa39c786de9148ab50a94acbee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab300daa39c786de9148ab50a94acbee6">&#9670;&nbsp;</a></span>ModuleRemoveLogFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nidb::ModuleRemoveLogFile </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keepLog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the log file for this module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">true</td><td>if this log file should not be deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3392b7e0e9d1b2f808ed779ae2312a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3392b7e0e9d1b2f808ed779ae2312a8a">&#9670;&nbsp;</a></span>ModuleRunningCheckIn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nidb::ModuleRunningCheckIn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a "deadman's switch". If the module doesn't check in after a certain period of time, the module process is assumed to have died and is reset so it can start again. </p>

</div>
</div>
<a id="a6e2e5d8d1f5a160ec0fb8b95088a7c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e2e5d8d1f5a160ec0fb8b95088a7c92">&#9670;&nbsp;</a></span>SendEmail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::SendEmail </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>subject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9db1198c88c339d099fa2611f119ee5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db1198c88c339d099fa2611f119ee5d">&#9670;&nbsp;</a></span>SetExportSeriesStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::SetExportSeriesStatus </td>
          <td>(</td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>exportseriesid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>exportid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>seriesid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>modality</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>msg</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af2f1a11418e2fb1b228d8de829dba409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f1a11418e2fb1b228d8de829dba409">&#9670;&nbsp;</a></span>SQLQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString nidb::SQLQuery </td>
          <td>(</td>
          <td class="paramtype">QSqlQuery &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>d</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>batch</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a SQL query and return the result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>QSqlQuery object must already be prepared and bound before being passed to this function </td></tr>
    <tr><td class="paramname">function</td><td>C++ function which called this function (for debugging purposes in case the SQL query fails). Pass the macro <b>FUNCTION</b> as a parameter </td></tr>
    <tr><td class="paramname">file</td><td>Source code file which called this function (for debugging purposes in case the SQL query fails). Pass the macro <b>FILE</b> as a parameter </td></tr>
    <tr><td class="paramname">line</td><td>Line in the source code file that called this function (for debugging purposes in case the SQL query fails). Pass the macro <b>LINE</b> as a parameter </td></tr>
    <tr><td class="paramname">d</td><td>true if debug (will write the executed statement to the Log file) </td></tr>
    <tr><td class="paramname">batch</td><td>true if running in batch mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The QString representation of the executed query </dd></dl>

</div>
</div>
<a id="a5cd0be5048523748d039897abaef9364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd0be5048523748d039897abaef9364">&#9670;&nbsp;</a></span>SubmitClusterJob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::SubmitClusterJob </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>jobFilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>clusterType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>submitHost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>submitUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>qsub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>clusterUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>clusterQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>jobid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a pipeline analysis job to a cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jobFilePath</td><td>Path to the job file </td></tr>
    <tr><td class="paramname">clusterType</td><td>either 'sge' or 'slurm' </td></tr>
    <tr><td class="paramname">submitHost</td><td>Hostname to which the job will be sumitted </td></tr>
    <tr><td class="paramname">submitUser</td><td>Username to login to the host to submit a job. User must be able to passwordless-ly ssh into the host </td></tr>
    <tr><td class="paramname">qsub</td><td>path to the qsub executable </td></tr>
    <tr><td class="paramname">clusterUser</td><td>Username to run the job on the cluster </td></tr>
    <tr><td class="paramname">clusterQueue</td><td>Queue under which to run the job on the cluster </td></tr>
    <tr><td class="paramname">msg</td><td>Any messages generated during submission </td></tr>
    <tr><td class="paramname">jobid</td><td>The jobid of the submitted job </td></tr>
    <tr><td class="paramname">result</td><td>Message from the command line after submitting a job </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successfully submitted, false otherwise </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af6faa100be76bf8cca34b9a414d59a8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6faa100be76bf8cca34b9a414d59a8b">&#9670;&nbsp;</a></span>cfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QHash&lt;QString, QString&gt; nidb::cfg</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>configuration variables </p>

</div>
</div>
<a id="ae4083edd285cfc23ec8b367924efacbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4083edd285cfc23ec8b367924efacbe">&#9670;&nbsp;</a></span>db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSqlDatabase nidb::db</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>database connection </p>

</div>
</div>
<a id="aae4dafebddca598f7b39964506c46226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4dafebddca598f7b39964506c46226">&#9670;&nbsp;</a></span>debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidb::debug</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>true if module is in debugging mode </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="nidb_8h_source.html">nidb.h</a></li>
<li><a class="el" href="nidb_8cpp.html">nidb.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
