<a href="index.html">Home</a>

# Working with Data

## Managing Subjects

### Editing IDs & Demographics
Find your subject by UID or other methods. On the subject's page, you'll see a demographic summary on the left, and the subject's enrollments and studies on the right. The demographics list may show a red box around the DOB if it appears to be a placeholder date like `1900-01-01` or `1776-07-04`. On the lefthand side of the page, click the Edit subject button (#2 on the image below). This will show the form to edit demographics. If the edit button is missing, you can check your permissions for the subject by expanding the permissions listing (#1 on the image below).

<div align="center"><img src="https://user-images.githubusercontent.com/8302215/145464187-dd99504a-034c-4676-8164-6ef0f1afb75e.png" width="60%"></div>

When editing subject demographic information, required fields are highlighted. Most fields are optional. You can edit IDs on this page, which are reflected for the subject in all projects. The primary alternate ID should have an asterisk in front of it. The primary alternate ID will now be with the main ID for this subject in the specified project. See the ID note below. Click **Update** to save the demographic information. Confirm on the following page.

<div align="center"><img src="https://user-images.githubusercontent.com/8302215/145464775-bdd0ba5e-65d4-4483-b223-07a731664dc1.png" width="60%"></div>

> <b>A Note About IDs</b> identifiers are supposed to help you identify a subject. They're supposed to be unique. However, a subject may be assigned IDs from being enrolled in multiple projects. NiDB allows a single subject to be enrolled in multiple projects. Each project may uniquely identify the subject by the S1234ABC UID which is automatically generated by the system. Or the subject may be identified by an ID generated somewhere else. Maybe the ID is generated by RedCap, or you are given a list of IDs that you need to use for your subjects. If this subject is enrolled in multiple projects, they might have multiple IDs. NiDB is designed to handle this, but it can be a little complicated. Here are some definitions that may help make it simpler

|Term|Definition|
|---|---|
|UID|Unique ID, assigned by the system. This ID is unique to this installation of NiDB. If this subject is transferred to another NiDB installation, this ID will change|
|Alternate IDs|Comma separated list of IDs that are associated with this subject|
|Primary alternate ID|this alternate ID should be unique within the project. For example, if the project uses IDs in the format `2xxx` and the subject ID is `2382`, then their ID should be labeled as `*2382`|
|Study Num|The unique number assigned by the system for each of a subject's studies. This number is unique within a subject, regardless of enrollment. For example, if a subject is enrolled in mulitple projects, they may have studies 1,2,3 in project A and studies 5,6 in project B|
|StudyID|This ID basically concatenates the UID and the study num: for example `S1234ABC8`|
|Alternate StudyID|Sometimes an individual imaging session (study) has it's own unique ID. For example, some imaging centers will give a subject a new ID every time they go into the scanner. This is a place to store that ID|

### Project Enrollments
On the subject's main page, you'll see a list of enrollments on the right hand side. To enroll the subject in a new project, select the project and click Enroll. This will create a new enrollment.

<div align="center"><img src="https://user-images.githubusercontent.com/8302215/145472119-7a257061-0d56-40b1-8038-94bc00f093d9.png" width="60%"></div>

You can edit an existing enrollment by clicking the Edit Enrollment button. There isn't a whole of information available on this page, but enrollment checklists can be useful to check if a subject has completed all of the items for the project. Subjects can be marked as excluded, complete. Enrollment group can also be specified, such as CONTROL or PATIENT.

<div align="center"><img src="https://user-images.githubusercontent.com/8302215/145472727-b6794944-2bfd-4069-a317-5617f395255c.png" width="60%"></div>

#### Timelines
For projects with a chronological component, you can view a timeline of series for this enrollment. Click the **View Timeline** button on the subject's page, for the enrollment. It will display a timeline of series. Bottom axis displays the date/time. You can change the parameters of the timeline by selecting date range or series.

<div align="center"><img src="https://user-images.githubusercontent.com/8302215/145473238-51a10881-d5d1-4a91-896b-2e726e332122.png" width="60%"></div>

#### Enroll in Different Project
If your subject is enrolled in a project, but you need to move the enrollment (and all of the imaging studies, enrollment info, assessments, measures, drugs, and vitals) into a different project, you can do that by expanding the **Enroll in different project** section. Select the new project, and click **Move**. You must be an admin to do this.

### Merging

### Deleting
Only admins can delete subjects.

## Managing Studies
### MRI/DICOM vs non-MRI/DICOM Studies

**DICOM Derived** - Studies derived from DICOM data are displayed differently than other modalities because they contain detailed header files which are imported automatically. Because of the complex ways in which subject/study/series heirarchy are stored in DICOM files, archiving is done completely automatically.

**MRI** - MRI studies allow for storage of behavioral data associated with fMRI tasks. Other data such as eye tracking, simultaneous EEG, or other series specific data can be stored in the behavioral data section of MRI series.

**All Other Modalities** - Series information is less detailed, series can be created manually, and there is no option to store behavioral data for each series.

### Editing Study Information

### Merging Studies
### Moving Studies

## Managing Series
### Editing series information
### Managing MRI Behavioral Data
### Managing non-MRI Data
### Moving Series to New Study
## Groups
